<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- 네브바 폰트 -->
    <script src="https://kit.fontawesome.com/eb860590bd.js" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gasoek+One&display=swap" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <!--swiper-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>


    <!-- 네브바 CSS -->
    <link rel="stylesheet" type="text/css" th:href="@{/css/navbarStyle.css}">
    <!-- Report CSS -->
    <link rel="stylesheet" type="text/css" th:href="@{/css/reportList.css}">
    <!-- ReportDetail CSS -->
    <link rel="stylesheet" type="text/css" th:href="@{/css/reportDetail.css}">
    <!-- ReportForm CSS -->
    <link rel="stylesheet" type="text/css" th:href="@{/css/reportForm.css}">
    <!-- bestReport CSS -->
    <link rel="stylesheet" type="text/css" th:href="@{/css/bestReport.css}">
    <!-- main CSS -->
    <link rel="stylesheet" type="text/css" th:href="@{/css/main.css}">


    <title>Coconut</title>

</head>
<body>

<!-- 내비게이션 바 -->
<nav th:replace="~{common/navbar :: navbarFragment}"></nav>

<!-- 기본 템플릿 안에 삽입될 내용 시작 -->
<div class="content-area">
    <th:block layout:fragment="content"></th:block>
</div>
<!-- 기본 템플릿 안에 삽입될 내용 끝 -->


<!-- 자바스크립트 Start -->
<script>
    // 네브바 햄버거 버튼
    const toggleBtn = document.querySelector('.nav__bar');
    const main = document.querySelector('.nav__main');
    const icon = document.querySelector('.icon'); // 추가: icon 변수를 정의해야 합니다.

    toggleBtn.addEventListener('click', () => {
        main.classList.toggle('active');
        icon.classList.toggle('active');
    });

    // 질문 게시판 삭제 버튼
    const delete_elements = document.getElementsByClassName("reportDetail_content_delete_btn");
    Array.from(delete_elements).forEach(function(element) {
        element.addEventListener('click', function() {
            if(confirm("정말로 삭제하시겠습니까?")) {
                location.href = this.dataset.uri;
            }
        });
    });

    // 질문 게시판 추천 버튼
    const recommend_elements = document.getElementsByClassName("reportDetail_vote");
    Array.from(recommend_elements).forEach(function(element) {
    element.addEventListener('click', function() {
        if(confirm("정말로 추천하시겠습니까?")) {
            location.href = this.dataset.uri;
        };
    });
});

        // 질문 게시판 검색 기능
        const page_elements = document.getElementsByClassName("page-link");
    Array.from(page_elements).forEach(function(element) {
        element.addEventListener('click', function() {
            document.getElementById('page').value = this.dataset.page;
            document.getElementById('searchForm').submit();
        });
    });
    const btn_search = document.getElementById("btn_search");
    btn_search.addEventListener('click', function() {
        document.getElementById('kw').value = document.getElementById('search_kw').value;
        document.getElementById('page').value = 0;  // 검색버튼을 클릭할 경우 0페이지부터 조회한다.
        document.getElementById('searchForm').submit();
    });


</script>
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script th:src="@{/js/swiper.js}"></script>

<!-- 자바스크립트 End -->

</body>
</html>
